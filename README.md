# 課題　 -都道府県ゲッサー-

## DEMO

- https://w-baby-y.github.io/kadai05/

## ① 課題内容

- GeoGuessr リスペクト
- Google ストリートビューで降り立った地点から少ない移動数で自分がどの都道府県にいるか当てるゲームアプリ

## ② 工夫した点・こだわった点

- BingMaps は日本でストリートビューができる都市が殆どなかったため、Google ストリートビューの API を利用した点
- firebase Realtime Database を利用してオンラインランキング機能を実装した点
- geoAPI を利用して、降り立った地点の都道府県を取得するようにした点
- 駅付近の緯度経度を初期地点にするために API を探したが、API の提供が廃止されていたため、CSV から JSON に変換し、読み込むようにした点

## ③ 難しかった点・次回トライしたいこと(又は機能)

- Google ストリートビューが降り立つ地点を指定するのに出来ればランダムがよかったが、土地がある場所の緯度経度を限定することができなかった（適当に指定すると海などストリートビューがない場所を選んでしまう）。
- ネットで同じ悩みの人は駅データを取得することにしていた。これで解決に近づいたが、拾ってきた駅のデータベースの緯度経度をそのまま指定すると細かすぎてストリートビューが真っ黒になってしまうため、ある程度大雑把な緯度経度になるよう調整が必要だった
- js ファイルを後々 module に指定すると、厳格モードになるため変数を let などで宣言していないと動かなくなる
- firebase のデータを一度読み込みたかったので ChatGPT に聞くと使えないコードになった。公式ドキュメントを調べると onValue など色々と方法があることがわかった。

## ④ 質問・疑問・感想、シェアしたいこと等なんでも

- [質問]ストリートビューでランダムに日本国内の土地を選ぶ方法
- [感想]
- [参考記事]firebase データベースの読み取り https://firebase.google.com/docs/database/web/
  read-and-write?hl=ja
- [参考記事]ストリートビューのクラス https://developers.google.com/maps/documentation/javascript/reference/street-view?hl=ja
- [参考記事]駅データ https://ekidata.jp/
- [参考記事]気軽に日本ダーツの旅.js を作ってみた顛末 https://qiita.com/noexpect/items/ed27675e7083f2730cf5
